# 🛡️ Warden 小号保活工具 - 使用手册

## 📋 项目简介

**Warden 小号保活工具** 是一个自动化账户管理工具。它可以帮助用户批量管理多个钱包账户，自动完成认证、获取Token，并执行日常保活任务。

### ✨ 核心功能
- 🔐 **批量钱包认证**：基于私钥自动获取JWT令牌
- 👤 **用户信息管理**：查看账户详情、积分、创建时间等
- 🤖 **自动化任务执行**：一键完成AI聊天交互任务
- 🌐 **代理支持**：支持HTTP代理，适合各种网络环境
- 📊 **实时状态监控**：详细的操作日志和状态统计
- 🎯 **智能重试机制**：自动处理网络限流和错误重试

---

## ⚙️ 安装配置

### 1. 环境要求
- **操作系统**：Windows 10/11、macOS
- **Python版本**：Python 3.7 或更高版本

### 2. 依赖安装
```bash
# 安装必要的Python库
pip install -r requirements.txt
```

## 🚀 快速开始

### 第一步：准备私钥文件
创建 `private_keys.txt` 文件，每行一个私钥：

```
0xde74f1658ff832cb9de95ba690acb7ae41a06c7ea268700a06113c876bda5e17
0x5b0e47d6d01a5284f5cfd3fc1fbd26382093d6ee870b8740e01677b72747dc88
0xcf980e2841129760c3dd2d41bca458ffb36b5cecef4cdca8aa81ab0b02f8f922
```

**注意事项：**
- 私钥格式：64位十六进制字符串（可带0x前缀）
- 每行一个私钥，支持空行和#注释行
- 请妥善保管私钥文件，避免泄露

### 第二步：配置代理（可选）
如果需要使用代理，创建 `proxies.txt` 文件：

```
http://username:password@ip:port
http://ip:port
socks5://username:password@ip:port
```

### 第三步：运行程序

#### 方式一：图形界面版本
```bash
python main.py
```

### 操作流程

#### 🔐 批量钱包认证
1. 确保 `private_keys.txt` 文件已准备好
2. 点击 **"钱包认证获取Token"** 按钮
3. 确认对话框中的钱包数量
4. 等待认证完成，Token自动保存到 `tokens.txt`

**认证过程说明：**
- 每个钱包都会生成随机的客户端标识，避免限流
- 使用指数退避策略处理429错误
- 钱包间延迟5-8秒，避免请求过于频繁

#### 👤 加载用户信息
1. 确保已有有效的Token（通过认证获取）
2. 点击 **"加载用户信息"** 按钮
3. 等待批量加载完成
4. 查看账户列表中的详细信息

#### 🤖 执行保活任务
1. 点击 **"一键完成任务"** 按钮
2. 确认要执行任务的账户数量
3. 观察日志和状态变化
4. 查看统计信息了解完成情况

#### 🌐 使用代理
1. 创建 `proxies.txt` 文件并添加代理地址
2. 勾选界面上的 **"使用代理"** 选项
3. 程序将随机选择可用代理进行请求

## 📊 状态说明

### 账户状态类型
- **待处理**：尚未执行任务
- **成功**：任务执行成功，获得积分奖励
- **已完成**：今日任务已完成，无需重复执行
- **Token失效**：需要重新进行钱包认证
- **失败**：任务执行失败，可能需要检查网络
- **错误**：程序执行过程中出现异常
- **未知**：返回了未预期的响应内容

### 重试机制配置
程序内置智能重试机制，遇到429限流时自动重试：

- **最大重试次数**：5次
- **延迟策略**：指数退避（3秒 → 6秒 → 12秒 → 24秒 → 48秒）
- **随机化延迟**：每次延迟额外增加1-3秒随机时间

### 客户端标识随机化
每次API请求都会生成随机的 `privy-ca-id`，避免被识别为同一客户端：

### 代理轮换机制
如果配置了多个代理，程序会随机选择可用代理：

---

## ❗ 常见问题解决

### Q1: 遇到429错误怎么办？
**A1:** 程序已内置解决方案：
- 自动重试机制，最多重试5次
- 指数退避延迟策略
- 随机客户端标识避免限流
- 如果仍然失败，建议增加代理或稍后重试

### Q2: Token失效如何处理？
**A2:** 
- 删除 `tokens.txt` 文件中的失效Token
- 重新运行钱包认证获取新Token
- 检查私钥是否正确

### Q3: 私钥格式错误？
**A3:** 确保私钥格式正确：
- 64位十六进制字符串
- 可以带或不带0x前缀
- 每行一个私钥
- 避免多余的空格或特殊字符

### Q4: 网络连接问题？
**A4:** 
- 检查网络连接是否稳定
- 尝试使用代理服务器
- 确认防火墙没有阻止程序访问网络
- 检查DNS解析是否正常

### Q5: 程序界面显示异常？
**A5:** 
- 确保使用的是最新版本的Python
- 重启程序
- 检查是否有其他程序占用相关端口
- Windows用户确保有足够的系统权限

## 🔒 安全注意事项

### 私钥安全
- ⚠️ **绝不要分享私钥文件给任何人**
- 🔐 定期备份私钥到安全位置
- 🗑️ 不使用时删除本地私钥文件
- 🛡️ 使用强密码保护存储设备


### 使用建议
- 📈 建议小批量测试后再大规模使用

## 📜 免责声明

本工具仅供学习和研究使用，使用者需要：

1. 遵守相关法律法规和服务条款
2. 自行承担使用风险
3. 确保私钥和资产安全
4. 理性使用，避免过度频繁操作

**开发者不对因使用本工具造成的任何损失承担责任。**

---

*祝您使用愉快！🎉* 
